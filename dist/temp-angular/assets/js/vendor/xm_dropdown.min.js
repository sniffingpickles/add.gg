"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function XM_Dropdown(t){var c,g={container:".dropdown",trigger:".dropdown-trigger",activeClass:"active",triggerEvent:"click",offset:{},animation:{type:"static",speed:.4,ease:"ease-in-out",zIndex:9999,translateOffset:{horizontal:40,vertical:40}},absolute:!1,closeOnWindowClick:!0,closeOnDropdownClick:!1,linkDropdowns:!0,controlToggle:!1},h=[],n={},r=function(){if(g.controlToggle){var t=document.querySelectorAll(g.container);if(!t.length)throw new Error("".concat(g.container," not found in the DOM"));var n=!0,r=!1,o=void 0;try{for(var e,i=t[Symbol.iterator]();!(n=(e=i.next()).done);n=!0){var a=e.value,l={};l.parent=a.parentElement,l.container=a,h.push(l)}}catch(t){r=!0,o=t}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}}else{var c=document.querySelectorAll(g.trigger);if(!c.length)throw new Error("".concat(g.trigger," not found in the DOM"));var f=!0,s=!1,u=void 0;try{for(var y,v=c[Symbol.iterator]();!(f=(y=v.next()).done);f=!0){var d=y.value,p=d.parentElement.querySelector(g.container);if(!p)throw new Error("".concat(g.container," not found as sibling of ").concat(g.trigger));var m={};m.parent=p.parentElement,m.trigger=d,m.container=p,h.push(m)}}catch(t){s=!0,u=t}finally{try{f||null==v.return||v.return()}finally{if(s)throw u}}}},o=function(){var t=!0,n=!1,r=void 0;try{for(var o,e=h[Symbol.iterator]();!(t=(o=e.next()).done);t=!0){var i=o.value;a(i)}}catch(t){n=!0,r=t}finally{try{t||null==e.return||e.return()}finally{if(n)throw r}}},a=function(t){for(var n in t.parent.style.position=g.absolute?"absolute":"relative",S(t.container,{position:"absolute",zIndex:g.animation.zIndex}),g.offset)t.container.style[n]="".concat(g.offset[n],"px")},e=function(){var t=!0,n=!1,r=void 0;try{for(var o,e=h[Symbol.iterator]();!(t=(o=e.next()).done);t=!0){var i=o.value;l(i)}}catch(t){n=!0,r=t}finally{try{t||null==e.return||e.return()}finally{if(n)throw r}}},l=function(t){"translate-top"!==g.animation.type&&"translate-bottom"!==g.animation.type||(t.container.style.transition="transform ".concat(g.animation.speed,"s ").concat(g.animation.ease,",\n                                             opacity ").concat(g.animation.speed,"s ").concat(g.animation.ease,",\n                                             visibility ").concat(g.animation.speed,"s ").concat(g.animation.ease))},i=function(){var t=!0,n=!1,r=void 0;try{for(var o,e=h[Symbol.iterator]();!(t=(o=e.next()).done);t=!0){var i=o.value;f(i)}}catch(t){n=!0,r=t}finally{try{t||null==e.return||e.return()}finally{if(n)throw r}}},f=function(t){"click"===g.triggerEvent?t.trigger.addEventListener("click",function(){v(t)}):"hover"===g.triggerEvent&&(t.trigger.addEventListener("mouseenter",function(){m(t)}),t.trigger.addEventListener("mouseleave",function(){p(t)}))},s=function(){var t=!0,n=!1,r=void 0;try{for(var o,e=h[Symbol.iterator]();!(t=(o=e.next()).done);t=!0){var i=o.value;u(i)}}catch(t){n=!0,r=t}finally{try{t||null==e.return||e.return()}finally{if(n)throw r}}},u=function(t){t.container.addEventListener("click",function(){p(t)})},y=function(){window.addEventListener("click",function(t){if(c){var n=t.target;do{var r=!0,o=!1,e=void 0;try{for(var i,a=h[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var l=i.value;if(n===l.trigger||n===l.container)return}}catch(t){o=!0,e=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw e}}}while(n=n.parentElement);d()}})},v=function(t){(t.active?p:m)(t)},d=function(){var t=!0,n=!1,r=void 0;try{for(var o,e=h[Symbol.iterator]();!(t=(o=e.next()).done);t=!0){var i=o.value;p(i)}}catch(t){n=!0,r=t}finally{try{t||null==e.return||e.return()}finally{if(n)throw r}}},p=function(t){w(t),g.controlToggle||function(t){t.trigger.classList.remove(g.activeClass)}(t),t.active=!1,c=!1},m=function(t){g.linkDropdowns&&d(),b(t),g.controlToggle||function(t){t.trigger.classList.add(g.activeClass)}(t),t.active=!0,c=!0},w=function(t){"static"===g.animation.type?S(t.container,{display:"none"}):"translate-top"===g.animation.type?S(t.container,{opacity:0,visibility:"hidden",transform:"translate(0, -".concat(g.animation.translateOffset.vertical,"px)")}):"translate-bottom"===g.animation.type&&S(t.container,{opacity:0,visibility:"hidden",transform:"translate(0, ".concat(g.animation.translateOffset.vertical,"px)")})},b=function(t){"static"===g.animation.type?S(t.container,{display:"block"}):"translate-top"!==g.animation.type&&"translate-bottom"!==g.animation.type||S(t.container,{opacity:1,visibility:"visible",transform:"translate(0, 0)"})},S=function(t,n){for(var r in n)t.style[r]=n[r]};return function t(n,r){var o;for(var e in r)"object"!==_typeof(r[e])||r[e]instanceof Date?r[e]instanceof Date?n[e]=new Date(r[e].getTime()):n[e]=r[e]:(o=r[e]instanceof Array?[]:{},void 0===n[e]&&(n[e]=o),t(n[e],r[e]))}(g,t),r(),o(),g.controlToggle||i(),g.closeOnDropdownClick&&s(),g.closeOnWindowClick&&y(),d(),window.setTimeout(e,300),n.showDropdowns=function(){var t=!0,n=!1,r=void 0;try{for(var o,e=h[Symbol.iterator]();!(t=(o=e.next()).done);t=!0){var i=o.value;m(i)}}catch(t){n=!0,r=t}finally{try{t||null==e.return||e.return()}finally{if(n)throw r}}},n.hideDropdowns=d,n}